# Настройка STP

## Исходные данные:

#### Addressing Table

| Device  | Interface          |IP Address   |Subnet Mask  |
| -------:|------------------:| -------------:| -----------:| 
| S1      | VLAN 1             | 192.168.1.1  |255.255.255.0|
| S2      | VLAN 1             | 192.168.1.2 |255.255.255.0| 
| S3      | VLAN 1             | 192.168.1.3 |255.255.255.0| 

## Задачи:

#### Часть 1: Создание сети и настройка основных параметров устройства
#### Часть 2: Выбор корневого моста
#### Часть 3: Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов
#### Часть 4: Наблюдение за процессом выбора протоколом STP порта, исходя из приоритета портов

## Топология:

#### Cхема лабораторного стенда, выполненная в draw.io:

![Image alt](https://github.com/Misha-cook/otus-networks/blob/main/labs/lab02/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA_1.png)

#### Cхема лабораторного стенда, выполненная в Packet Tracer:

![Image alt](https://github.com/Misha-cook/otus-networks/blob/main/labs/lab02/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA_2.png)

## Выполнение задания:

#### [Часть 1: Создание сети и настройка основных параметров устройства.](#основные-настройки-произведенные-на-s1) 
#### [Часть 2: Выбор корневого моста](#алгоритм-выбора) 
#### Часть 3: Наблюдение за процессом выбора протоколом STP порта, исходя из стоимости портов
#### Часть 4: Наблюдение за процессом выбора протоколом STP порта, исходя из приоритета портов

## Выполнение задания:

#### Часть 1: Создание сети и настройка основных параметров устройства.

##### Основные настройки произведенные на S1 

```
(Команды выполнены в конфигурационном режиме)
hostname S1                              // переименуем коммутатор
!
no ip domain-lookup                      // отключите поиск DNS
!
enable secret ******                     // поставим пароль на вход в режим enable
!
line vty 0 15                            // подключения по виртуальному интерфейсу(16)
!
login                                    // отвечает за возможность аутентификации
!
password cisco                           // устанавливаем  пароль для удаленного входа на коммутатор
!
banner motd #Unauthorized access to this device is prohibited! // установка баннера
!
interface Vlan1                          // конфигурация управляющего интерфейса
!
ip address 192.168.1.1 255.255.255.0

Выходим из конфигурационного режима

clock set 13:12:00 23 october 2018      // установка времени
!
copy running-config startup-config      //сохранение конфигурации

```
##### Проверка связности

ping с S1 на S2

![Image alt](https://github.com/Misha-cook/otus-networks/blob/main/labs/lab02/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA_3.png).

ping с S1 на S3

![Image alt](https://github.com/Misha-cook/otus-networks/blob/main/labs/lab02/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA_4.png).

ping с S2 на S3

![Image alt](https://github.com/Misha-cook/otus-networks/blob/main/labs/lab02/%D0%A0%D0%B8%D1%81%D1%83%D0%BD%D0%BE%D0%BA_5.png).

#### Часть 2: Выбор корневого моста

##### Алгоритм выбора 

В качестве корня дерева выбирается коммутатор с наименьшим значением идентификатора моста. 
Идентификатор моста — это 8-байтное поле, которое состоит из 2-х частей: 
- приоритета моста (2 байта), назначаемого администратором сети **по умолчанию приоритет равен 32768**
- МАС-адреса блока управления коммутатора (6 байт).
Корневым мостом становится коммутатор с наименьшим значением приоритета.


